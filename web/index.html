<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” MyDrive - Stockage SÃ©curisÃ©</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>ğŸ” MyDrive</h1>
            <div class="btn-frame">
                <button class="btn-upload" onclick="uploadFile()">ğŸ“¤ Upload</button>
                <button class="btn-refresh" id="newFolderBtn" onclick="createNewFolder()">ğŸ“ Nouveau dossier</button>
                <button class="btn-refresh" onclick="downloadSelectedFiles()" id="downloadSelectedBtn" style="display: none;">ğŸ“¥ TÃ©lÃ©charger sÃ©lection</button>
                <button class="btn-refresh" onclick="deleteSelectedFiles()" id="deleteSelectedBtn" style="display: none;">ğŸ—‘ï¸ Supprimer la sÃ©lection</button>
                <button class="btn-refresh" onclick="loadFiles()">ğŸ”„ Actualiser</button>
            </div>
        </div>

        <!-- CHEMIN ACTUEL (Breadcrumb) -->
        <div class="stats-frame" id="breadcrumb">
            <div class="stats-label" id="currentPath">ğŸ“ /</div>
            <div class="breadcrumb-nav">
                <button class="nav-btn" id="backBtn" onclick="navigateBack()" disabled title="Retour">â—€</button>
                <button class="nav-btn" id="forwardBtn" onclick="navigateForward()" disabled title="Avancer">â–¶</button>
            </div>
        </div>

        <!-- STATISTIQUES -->
        <div class="stats-frame">
            <div class="stats-label" id="stats">ğŸ“Š Statistiques: ...</div>
        </div>

        <!-- BARRE DE RECHERCHE -->
        <div class="search-frame">
            <span class="search-icon">ğŸ”</span>
            <div class="search-input-wrapper">
                <input type="text" class="search-input" id="searchInput" placeholder="Rechercher..." oninput="filterFiles()">
            </div>
            <div class="sort-wrapper">
                <span class="sort-label">Trier par:</span>
                <select class="sort-select" id="sortSelect" onchange="loadFiles()">
                    <option value="date">Date</option>
                    <option value="name">Nom</option>
                    <option value="size">Taille</option>
                </select>
            </div>
        </div>

        <!-- LISTE DES FICHIERS -->
        <div class="tree-frame">
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th class="col-checkbox" style="width: 40px;">
                                <input type="checkbox" id="selectAllCheckbox" onchange="toggleSelectAll()" title="SÃ©lectionner tout">
                            </th>
                            <th class="col-name">ğŸ“„ Nom du fichier</th>
                            <th class="col-size">ğŸ’¾ Taille</th>
                            <th class="col-date">ğŸ“… Date</th>
                            <th class="col-id">ğŸ”‘ ID</th>
                        </tr>
                    </thead>
                    <tbody id="fileList">
                        <!-- Les fichiers seront insÃ©rÃ©s ici -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- MENU CONTEXTUEL -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item" onclick="showFileDetails()">ğŸ“‹ DÃ©tails</div>
        <div class="context-menu-item" onclick="downloadFile()">ğŸ“¥ TÃ©lÃ©charger</div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" onclick="deleteFile()">ğŸ—‘ï¸ Supprimer</div>
    </div>

    <!-- MODAL -->
    <div class="modal" id="modal" onclick="closeModalOnBackdrop(event)">
        <div class="modal-content">
            <div class="modal-title" id="modalTitle"></div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-buttons">
                <button class="btn-modal btn-ok" onclick="closeModal()">OK</button>
            </div>
        </div>
    </div>

    <!-- MODAL CONFIRMATION -->
    <div class="modal" id="confirmModal" onclick="closeConfirmModalOnBackdrop(event)">
        <div class="modal-content">
            <div class="modal-title" id="confirmTitle"></div>
            <div class="modal-body" id="confirmBody"></div>
            <div class="modal-buttons">
                <button class="btn-modal btn-cancel" onclick="closeConfirmModal()">Annuler</button>
                <button class="btn-modal btn-ok" id="confirmBtn">Confirmer</button>
            </div>
        </div>
    </div>

    <!-- DRAG AND DROP OVERLAY -->
    <div class="drag-overlay" id="dragOverlay">
        <div class="drag-overlay-content">
            <div class="icon">ğŸ“¤</div>
            <div>DÃ©posez vos fichiers ici</div>
        </div>
    </div>

    <!-- JavaScript modules -->
    <script src="/static/js/api.js"></script>
    <script src="/static/js/state.js"></script>
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/navigation.js"></script>
    <script src="/static/js/ui.js"></script>
    <script src="/static/js/files.js"></script>
    <script src="/static/js/folders.js"></script>
    <script src="/static/js/dragdrop.js"></script>
    <script src="/static/js/main.js"></script>
</body>
</html>

